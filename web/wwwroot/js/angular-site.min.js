(function(){"use strict";angular.module("gobel-app",["ngMaterialDatePicker"])})(),function(){"use strict";function n(n){function i(){n.loader=!0;$.ajax({method:"POST",url:"/api/exams/create",type:"json",data:{id:$("#UnitId").val(),model:n.exam},success:function(){n.loader=!1;yay("Exam scheduled successfully! Redirecting in a few...");setTimeout(function(){window.location="/exams"},1e3)},error:function(t){t.responseText?parseError(t.responseText):error(t.statusText);n.loader=!1}});n.loader=!1}function r(){n.loader=!0;n.exams=[];$.ajax({method:"GET",url:"/api/exams",success:function(t){if(t instanceof Array)if(t.length<1)info("You have no exams scheduled yet!");else for(var i=0;i<t.length;i++)n.$apply(function(){n.exams.push(t[i])})},error:function(n){n.responseText?parseError(n.responseText):error(n.statusText)}});n.loader=!1}function u(t){n.detailsLoader=!0;$.ajax({method:"GET",url:"/api/exams/"+t,success:function(t){n.$apply(function(){n.selectedExam=t});f()},error:function(n){n.responseText?parseError(n.responseText):error(n.statusText)}});n.detailsLoader=!1}function f(){$(".accordion-section-title").click(function(n){var i=$(this).attr("href");$(n.target).is(".active")?(t(),n.target.children[1].firstElementChild.className="fa fa-plus"):(t(),$(this).addClass("active"),n.target.children[1].firstElementChild.className="fa fa-minus",$(".accordion "+i).slideDown(300).addClass("open"));n.preventDefault()})}function t(){$(".accordion .accordion-section-title").removeClass("active");$(".accordion .accordion-section-content").slideUp(300).removeClass("open")}function e(t){n.loader=!0;n.exams=[];$.ajax({method:"GET",url:"/api/exams/unit/"+t,success:function(t){if(t instanceof Array)if(t.length<1)info("You have no exams scheduled yet!");else for(var i=0;i<t.length;i++)n.$apply(function(){n.exams.push(t[i])})},error:function(n){n.responseText?parseError(n.responseText):error(n.statusText)}});n.loader=!1}function o(t){n.loader=!0;$.ajax({method:"GET",url:"/api/exams/"+t+"/session",success:function(n){h(n)},error:function(n){n.responseText?parseError(n.responseText):error(n.statusText)}});n.loader=!1}function s(t){n.courseWrkLoader={};n.courseWrkLoader.IsActive=!0;n.courseWrkLoader.Text="loading coursework progress...";$.ajax({method:"GET",url:"/api/progress/unit/"+t+"/my",success:function(t){t.data.length>0?n.$apply(function(){n.courseworkprogress=t.data;n.courseWrkLoader.IsActive=!1;n.courseWrkLoader.Text=""}):n.$apply(function(){n.courseWrkLoader.IsActive=!1;info("This unit has not coursework materials uploaded.")})},error:function(t){n.courseWrkLoader.IsActive=!1;n.courseWrkLoader.Text="";t.responseText?parseError(t.responseText):error(t.statusText)}})}function h(t){n.$apply(function(){n.title="Exam Session, Id: "+t.sessionId.substring(0,6);n.session=t;$("#rootwizard").bootstrapWizard({onTabShow:function(n,t,i){if(i>0){var r=t.find("li").length-1,u=i+1,f=u/r*100;$("#rootwizard .progress-bar").css({width:f+"%"})}}})});console.log(t)}n.title="";n.exams=[];n.questions=[];n.question={Answers:[]};n.calendarDate=function(n){return moment().to(n)};n.minutesToExam=function(n){var t=new moment(n),i=new moment,r=moment.duration(t.diff(i)).as("minutes");return roundOff(r,2)};n.onInitExamIndex=function(){n.title="Examinations";r()};n.onInitUnitExams=function(n){e(n)};n.initExamSession=function(t){n.title="Session";o(t)};n.initCourseWrkProgress=function(n){s(n)};n.onAddQuestion=function(){n.question={Answers:[]};$("#addQuestionModal").modal("show")};n.onAddAnswer=function(){n.question.Text?(n.question.Answers.push(n.answer),n.answer={}):error("Type a question first before adding answer options.")};n.onExitQuestion=function(){n.question={Answers:[]};$("#addQuestionModal").modal("hide")};n.onRemoveQuestion=function(t){var i=n.questions.indexOf(t);n.questions.splice(i)};n.onSubmitQuestion=function(){if(n.question)if(n.question.Answers.length<1)error("Your question has no answers. Please add answer options");else{var t=parseFloat(n.question.Marks);n.question.Marks=t;n.questions.push(n.question);n.question={Answers:[]}}else error("No question written.")};n.onSubmitExam=function(){if(n.exam={},n.exam.Name=n.Name,n.exam.Date=moment(n.examDate).format(),n.exam.Start=moment(n.StartTime,"hh:mm a").format(),n.exam.End=moment(n.EndTime,"hh:mm a").format(),n.exam.Questions=n.questions,!n.Name){warning("Specify exam title/name. e.g Supplementary exam, Final year exam e.t.c");return}if(n.examDate===undefined){warning("Pick a date for this exam.");return}if(n.StartTime===undefined||n.EndTime===undefined){warning("Pick start and end time for this exam.");return}if(n.questions<1){warning("Exam has no questions. Add at-least one question to continue.");return}i()};n.onSelectExam=function(t){n.selectedExam=t;$("#examDetailsModal").modal("show");u(t.id)}}angular.module("gobel-app").controller("examCtrl",n);n.$inject=["$scope","$timeout","$interval"]}(),function(){"use strict";function n(n){function u(){n.questions.push({text:"Who?"});n.questions.push({text:"What?"});n.questions.push({text:"Which?"});n.questions.push({text:"Why?"});n.questions.push({text:"When?"});for(var u=0;u<n.questions.length;u++)$("footer ul").append("<li>"+(u+1)+"<\/li>");r(0);n.selectedQue=n.questions[0];n.targetTime=moment().add(150,"seconds");$("footer ul li").on("click",function(t){var i=parseInt(t.target.innerText)-1;r(i);n.$apply(function(){n.selectedQue=n.questions[i]})});$(".next").on("click",function(){var n=i()+1;t(n)});$(".prev").on("click",function(){var n=i()-1;t(n)})}function t(t){var i=n.questions.length;console.log(t);t<0||t>i-1||(r(t),n.$apply(function(){n.selectedQue=n.questions[t]}))}function i(){return n.questions.indexOf(n.selectedQue)}function r(n){$("footer ul li").each(function(t){t!==n?$(this).removeClass("active"):$(this).addClass("active")})}n.title="Exam Session Controller";n.questions=[];n.selectedQue={};n.targetTime=null;u();n.initQues=function(){u()};n.getIndex=function(t){return n.questions.indexOf(t)+5};n.onNext=function(){};n.onPrev=function(){t(i()-1)}}angular.module("gobel-app").controller("sessionCtrl",n);n.$inject=["$scope","$interval"]}();
//# sourceMappingURL=angular-site.min.js.map