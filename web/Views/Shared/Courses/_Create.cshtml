@using DAL.Extensions
<style>
    #backdropImgPrw{
        width:100%;
    }
</style>
<div class="modal fade" data-backdrop="true" id="newCourseModal">
    <div class="modal-dialog animate" id="animate">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <span>
                        <i class="fa fa-fw fa-leaf"></i>  Add course
                    </span>
                </h5>
            </div>
            <div class="modal-body p-lg">
                <form id="courseForm" method="post" action="/api/courses" enctype="multipart/form-data">
                    <div class="form-group">
                        <label>Name</label>
                        <input class="form-control" required id="courseName" name="Name" placeholder="e.g Bsc Computer Science" type="text" />
                    </div>
                    <div class="form-group">
                        <label>Type</label>
                        <select class="form-control" id="Type">
                            <option value="0" label="Certificate" />
                            <option value="1" label="Diploma" />
                            <option value="2" label="Degree" selected />
                            <option value="3" label="Masters" />
                            <option value="4" label="Phd" />
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Years to Complete</label>
                        <input class="form-control" required id="years" name="Years" placeholder="e.g 4" type="number" />
                    </div>
                    <div class="form-group">
                        <label>Backdrop Image</label>
                        <br />
                        <span>
                            <i>Upload an image that shows what this course is about.</i>
                        </span>
                        <br />
                        <span class="w-96">
                            <img id="backdropImgPrw" class="img-thumbnail" src="~/images/education_button2.jpg" />
                        </span>
                        <input type="file" name="Backdrop" id="backdropImg" onchange="unCoverFile(this)" />
                    </div>
                    <div class="modal-footer">
                        <button class="btn dark-white p-x-md" data-dismiss="modal" type="button">Cancel</button>
                        <button class="btn danger p-x-md" id="btnSubmit" type="submit">Submit</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>

<script>
    var selectedFile = null;

    function unCoverFile(input) {
        if (input.files && input.files[0]) {
            selectedFile = input.files[0];
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#backdropImgPrw').attr('src', e.target.result);
            }

            reader.readAsDataURL(selectedFile);
        }
    }
</script>

